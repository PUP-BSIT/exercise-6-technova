<div class="container">
  <div class="form-card">
    <h3>Add Transaction</h3>
    <form [formGroup]="transactionForm" (ngSubmit)="addTransaction()">
      <div class="form-group">
        <label for="itemName">Item Name</label>
        <input
          type="text"
          id="itemName"
          formControlName="itemName"
          placeholder="e.g., Groceries, Salary" />
      </div>

      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" formControlName="category">
          <option value="">Select Category</option>
          <option value="Food">Food</option>
          <option value="Transport">Transport</option>
          <option value="Utilities">Utilities</option>
          <option value="Income">Income</option>
          <option value="Entertainment">Entertainment</option>
        </select>
      </div>

      <div class="form-group">
        <label for="amount">Amount</label>
        <input
          type="number"
          id="amount"
          formControlName="amount"
          placeholder="e.g., ₱1200"
          step="0.01" />
      </div>

      <div class="form-group">
        <label for="type">Type</label>
        <select id="type" formControlName="type">
          <option value="">Select Type</option>
          <option value="Expense">Expense</option>
          <option value="Income">Income</option>
        </select>
      </div>

      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" formControlName="date" />
      </div>

      <button type="submit" class="add-btn" 
              [disabled]="!transactionForm.valid">
              ADD
      </button>
    </form>
  </div>

  <!-- List Section -->
  <div class="list-card">
    <h3>Transaction List</h3>

    @if (transactions.length === 0) {
        <div class="empty-state">
        No transactions yet. Add your first transaction above!
    </div>
    } 
    @if (transactions.length > 0) {
    <div class="transaction-list">
      @for (transaction of transactions; track transaction; let i = $index) {
      <div class="transaction-item">
        <div class="transaction-header">
          <h4>{{ transaction.itemName }}</h4>
          <span class="amount">
            {{ transaction.type === 'Income' ? '+' : '-' }}
            ₱{{ transaction.amount | number : '1.2-2' }}
          </span>
        </div>
        <div class="transaction-details">
          <span class="category">{{ transaction.category }}</span>
          <span class="type-badge">
            {{ transaction.type }}
          </span>
          <span class="date">
            {{ transaction.date | date : 'MMM d, y' }}
          </span>
        </div>
      </div>
      }
    </div>

    <div class="summary">
      <div class="summary-item income-summary">
        <span>Total Income:</span>
        <strong>₱{{ getTotalIncome() | number : '1.2-2' }}</strong>
      </div>
      <div class="summary-item expense-summary">
        <span>Total Expenses:</span>
        <strong>₱{{ getTotalExpenses() | number : '1.2-2' }}</strong>
      </div>
      <div class="summary-item balance-summary">
        <span>Balance:</span>
        <strong>₱{{ getBalance() | number : '1.2-2' }}</strong>
      </div>
    </div>
    }
  </div>
</div>